<template>

    <require from="resources/value-converters/the-number"></require>

    <div class="sudokuGrid">
        <template class="row"
                  repeat.for="row of grid">
            <div class="cell 
                    row${$parent.$index}__cell${$index}
                    ${cell.value < 0 ? 'cell--unset' : 'cell--isSet'}"
                 repeat.for="cell of row">
                <template if.bind="cell.value < 0">
                    <p class="candidate candidate--${(cell.candidates[$index]) | theNumber & signal:'updateCandidates'}"
                       repeat.for="candidate of cell.candidates"
                       click.delegate="selectNumber($parent.$parent.$index,$parent.$index,cell.candidates[$index])">${cell.candidates[$index] | theNumber & signal:'updateCandidates' }</p>
                </template>
                <template else>
                    <p class="candidate valueSet">${cell.value | theNumber}</p>
                </template>
            </div>
        </template>
    </div>
</template>